<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hệ Thống Quản Lý Key - Bot Telegram</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>HỆ THỐNG QUẢN LÝ KEY BOT TELEGRAM</h1>
        
        <div class="tabs">
            <div class="tab active" onclick="openTab('userTab')">Người Dùng</div>
            <div class="tab" onclick="openTab('adminTab')">Quản Trị</div>
        </div>
        
        <!-- Tab Người Dùng -->
        <div id="userTab" class="tab-content active">
            <h2>Lấy Key Xác Nhận</h2>
            
            <div class="form-group">
                <label for="user-id">ID Telegram của bạn:</label>
                <input type="text" id="user-id" placeholder="Nhập ID Telegram (lấy bằng lệnh /myid trong bot)">
            </div>
            
            <div class="form-group">
                <label for="task-link">Link nhiệm vụ đã hoàn thành:</label>
                <input type="text" id="task-link" placeholder="Dán link nhiệm vụ từ bot vào đây">
            </div>
            
            <div class="form-group">
                <label for="screenshot">Ảnh chụp màn hình (tùy chọn):</label>
                <input type="file" id="screenshot" accept="image/*">
            </div>
            
            <button onclick="getConfirmationKey()">Lấy Key Xác Nhận</button>
            
            <div id="user-result" class="result"></div>
            
            <div id="key-section" class="hidden">
                <div class="form-group">
                    <label for="confirmation-key">Key xác nhận của bạn:</label>
                    <input type="text" id="confirmation-key" readonly>
                </div>
                <button onclick="copyKey()">Sao Chép Key</button>
                <button class="secondary" onclick="sendToTelegram()">Gửi Về Bot</button>
            </div>
            
            <div class="instructions">
                <h3>Hướng dẫn sử dụng:</h3>
                <ol>
                    <li>Hoàn thành nhiệm vụ từ link được bot cung cấp</li>
                    <li>Nhập ID Telegram và link nhiệm vụ vào form trên</li>
                    <li>Nhấn "Lấy Key Xác Nhận" để nhận key</li>
                    <li>Sao chép key và gửi cho bot bằng lệnh <code>/nhapkey [key-của-bạn]</code></li>
                </ol>
            </div>
        </div>
        
        <!-- Tab Quản Trị -->
        <div id="adminTab" class="tab-content">
            <!-- Nội dung quản trị sẽ được load từ file admin.html -->
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Load nội dung quản trị khi tab được click
        document.querySelector('.tab[onclick="openTab(\'admin\')"]').addEventListener('click', function() {
            if (document.getElementById('adminTab').innerHTML.trim() === '') {
                fetch('admin.html')
                    .then(response => response.text())
                    .then(html => {
                        document.getElementById('admin').innerHTML = html;
                    });
            }
        });
    </script>
</body>
</html>
